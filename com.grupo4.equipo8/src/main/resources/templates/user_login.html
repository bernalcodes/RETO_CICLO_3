<!DOCTYPE html>
<html
    xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
    lang="en"
>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Parking Manager | Inicio de sesión</title>
        <link rel="icon" type="image/x-icon" th:href="@{/assets/favicon.png}" />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
            crossorigin="anonymous"
        />
    </head>
    <body>
        <div class="container container-fluid text-center">
            <div
                th:if="${param.error}"
                class="alert alert-danger alert-dismissible fade show mt-4"
                role="alert"
            >
                Nombre de usuario o contraseña inválidos
                <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="alert"
                    aria-label="Close"
                ></button>
            </div>

            <div
                th:if="${param.logout}"
                class="alert alert-info alert-dismissible fade show mt-4"
                role="alert"
            >
                Ha finalizado su sesión
                <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="alert"
                    aria-label="Close"
                ></button>
            </div>

			<div
                th:if="${param.success}"
                class="alert alert-success alert-dismissible fade show mt-4"
                role="alert"
            >
                Se ha registrado correctamente. Inicie sesión.
                <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="alert"
                    aria-label="Close"
                ></button>
            </div>

            <div class="row d-flex justify-content-center">
                <div class="mb-5">
                    <img
                        th:src="@{/assets/logo_color.png}"
                        height="150%"
                        witdh="150%"
                    />
                </div>
                <form
                    class="w-75 mt-5 p-5 border border-secondary rounded"
                    th:action="@{/login}"
                    method="POST"
                >
                    <div
                        class="row g-3 d-flex justify-content-between mt-1 mb-2"
                    >
                        <div class="col-auto">
                            <label class="form-label" for=""
                                >Nombre de usuario:
                            </label>
                        </div>
                        <div class="col-auto">
                            <input
                                class="form-control"
                                type="text"
                                name="username"
                                placeholder="Nombre de usuario"
                                required
                                autofocus
                            />
                        </div>
                    </div>

                    <div
                        class="row g-3 d-flex justify-content-between mt-1 mb-2"
                    >
                        <div class="col-auto">
                            <label class="form-label" for=""
                                >Contraseña:
                            </label>
                        </div>
                        <div class="col-auto">
                            <input
                                class="form-control"
                                type="password"
                                name="password"
                                placeholder="Contraseña"
                                required
                            />
                        </div>
                    </div>

                    <br />

                    <div class="box-footer text-center">
                        <button type="submit" class="btn btn-primary">
                            Iniciar sesión
                        </button>
                    </div>

					<div class="box-footer text-center m-5">
                        <h6>
							Si no cuenta con un usuario, <span><a th:href="@{/signup}">puede registrarse aquí</a></span>.
						</h6>
                    </div>
                </form>
            </div>
        </div>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
            crossorigin="anonymous"
        ></script>
        <script
            type="text/javascript"
            th:src="@{/js/datetimeManager.js}"
        ></script>
    </body>
</html>
